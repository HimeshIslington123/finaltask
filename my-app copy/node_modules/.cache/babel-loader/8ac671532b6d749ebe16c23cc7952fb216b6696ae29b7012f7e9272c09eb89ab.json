{"ast":null,"code":"var _jsxFileName = \"/Users/himeshshakya/Desktop/task/my-app copy/src/validateuser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AuthWrapper = ({\n  children\n}) => {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(null); // null means loading\n\n  useEffect(() => {\n    const checkLogin = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:3001/isLoggedIn\", {\n          withCredentials: true\n        });\n        console.log(\"✅ Logged in:\", res.data.user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        console.log(\"❌ Not logged in\");\n        setIsAuthenticated(false);\n      }\n    };\n    checkLogin();\n  }, []);\n  if (isAuthenticated === null) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }, this); // Optional loading state\n  }\n  if (!isAuthenticated) {\n    // Return Navigate component to redirect\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"login is not done\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n};\n_s(AuthWrapper, \"ZTMIcZ3KFUL4S6fmpEYhW5p5Z1I=\");\n_c = AuthWrapper;\nexport default AuthWrapper;\nvar _c;\n$RefreshReg$(_c, \"AuthWrapper\");","map":{"version":3,"names":["React","useEffect","useState","axios","Navigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AuthWrapper","children","_s","isAuthenticated","setIsAuthenticated","checkLogin","res","get","withCredentials","console","log","data","user","error","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/himeshshakya/Desktop/task/my-app copy/src/validateuser.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Navigate } from \"react-router-dom\";\n\nconst AuthWrapper = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(null); // null means loading\n\n  useEffect(() => {\n    const checkLogin = async () => {\n      try {\n        const res = await axios.get(\"http://localhost:3001/isLoggedIn\", {\n          withCredentials: true,\n        });\n        console.log(\"✅ Logged in:\", res.data.user);\n        setIsAuthenticated(true);\n      } catch (error) {\n        console.log(\"❌ Not logged in\");\n        setIsAuthenticated(false);\n      }\n    };\n\n    checkLogin();\n  }, []);\n\n  if (isAuthenticated === null) {\n    return <p>Loading...</p>; // Optional loading state\n  }\n\n  if (!isAuthenticated) {\n    // Return Navigate component to redirect\n    return <p>login is not done</p>\n  }\n\n  return <>{children}</>;\n};\n\nexport default AuthWrapper;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE5C,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;;EAE9DD,SAAS,CAAC,MAAM;IACd,MAAMa,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7B,IAAI;QACF,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAG,CAAC,kCAAkC,EAAE;UAC9DC,eAAe,EAAE;QACnB,CAAC,CAAC;QACFC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEJ,GAAG,CAACK,IAAI,CAACC,IAAI,CAAC;QAC1CR,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdJ,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;QAC9BN,kBAAkB,CAAC,KAAK,CAAC;MAC3B;IACF,CAAC;IAEDC,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIF,eAAe,KAAK,IAAI,EAAE;IAC5B,oBAAON,OAAA;MAAAI,QAAA,EAAG;IAAU;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,CAAC,CAAC;EAC5B;EAEA,IAAI,CAACd,eAAe,EAAE;IACpB;IACA,oBAAON,OAAA;MAAAI,QAAA,EAAG;IAAiB;MAAAa,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EACjC;EAEA,oBAAOpB,OAAA,CAAAE,SAAA;IAAAE,QAAA,EAAGA;EAAQ,gBAAG,CAAC;AACxB,CAAC;AAACC,EAAA,CA9BIF,WAAW;AAAAkB,EAAA,GAAXlB,WAAW;AAgCjB,eAAeA,WAAW;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}